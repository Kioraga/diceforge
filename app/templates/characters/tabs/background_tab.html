<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Columna izquierda: Trasfondo -->
    <div class="card bg-base-200 shadow-xl relative overflow-visible">
        <button class="btn btn-ghost btn-circle btn-sm absolute -right-2 -top-2 z-10 bg-secondary shadow-md hover:bg-secondary" onclick="background_modal.showModal()">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
        </button>
        <div class="card-body p-6 space-y-6">
            <h2 class="card-title text-xl mb-2">Trasfondo</h2>

            <!-- Trasfondo -->
            <div>
                {% if character.background and character.background.get('name') %}
                <h3 class="text-lg mb-2">Trasfondo: {{ character.background.get('name') }}</h3>
                {% else %}
                    <p class="text-base-content/50 italic">Sin trasfondo definido</p>
                {% endif %}
            </div>

            <!-- Rasgos de personalidad -->
            <div>
                <h3 class="text-lg mb-2">Rasgos de personalidad</h3>
                <div class="prose max-w-none">
                    {% if character.background and character.background.get('features') %}
                        <p class="whitespace-pre-line">{{ character.background.get('features') }}</p>
                    {% else %}
                        <p class="text-base-content/50 italic">Sin rasgos de personalidad definidos</p>
                    {% endif %}
                </div>
            </div>

            <!-- Ideales -->
            <div>
                <h3 class="text-lg mb-2">Ideales</h3>
                <div class="prose max-w-none">
                    {% if character.background and character.background.get('ideals') %}
                        <p class="whitespace-pre-line">{{ character.background.get('ideals') }}</p>
                    {% else %}
                        <p class="text-base-content/50 italic">Sin ideales definidos</p>
                    {% endif %}
                </div>
            </div>

            <!-- Vínculos -->
            <div>
                <h3 class="text-lg mb-2">Vínculos</h3>
                <div class="prose max-w-none">
                    {% if character.background and character.background.get('bonds') %}
                        <p class="whitespace-pre-line">{{ character.background.get('bonds') }}</p>
                    {% else %}
                        <p class="text-base-content/50 italic">Sin vínculos definidos</p>
                    {% endif %}
                </div>
            </div>

            <!-- Defectos -->
            <div>
                <h3 class="text-lg mb-2">Defectos</h3>
                <div class="prose max-w-none">
                    {% if character.background and character.background.get('flaws') %}
                        <p class="whitespace-pre-line">{{ character.background.get('flaws') }}</p>
                    {% else %}
                        <p class="text-base-content/50 italic">Sin defectos definidos</p>
                    {% endif %}
                </div>
            </div>
        </div>

        {% include "characters/edit_modals/background_modal.html" %}
    </div>

    <!-- Columna derecha: Información adicional -->
    <div class="card bg-base-200 shadow-xl relative overflow-visible">
        <button class="btn btn-ghost btn-circle btn-sm absolute -right-2 -top-2 z-10 bg-secondary shadow-md hover:bg-secondary" onclick="info_modal.showModal()">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
        </button>
        <div class="card-body p-6 space-y-6">
            <h2 class="card-title text-xl mb-2">Información</h2>
            <p class="text-sm text-base-content/70 mb-2">Información adicional del personaje.</p>

            <!-- Alineamiento -->
            <div>
                <h3 class="text-lg mb-2">Alineamiento</h3>
                <div class="prose max-w-none">
                    {% if character.info and character.info.get('alignment') %}
                        <p class="whitespace-pre-line">{{ character.info.get('alignment') }}</p>
                    {% else %}
                        <p class="text-base-content/50 italic">Sin alineamiento definido</p>
                    {% endif %}
                </div>
            </div>

            <!-- Apariencia -->
            <div>
                <h3 class="text-lg mb-2">Apariencia</h3>
                <div class="prose max-w-none">
                    {% if character.info and character.info.get('appearance') %}
                        <p class="whitespace-pre-line">{{ character.info.get('appearance') }}</p>
                    {% else %}
                        <p class="text-base-content/50 italic">Sin descripción de apariencia</p>
                    {% endif %}
                </div>
            </div>

            <!-- Historia -->
            <div>
                <h3 class="text-lg mb-2">Historia</h3>
                <div class="prose max-w-none">
                    {% if character.info and character.info.get('history') %}
                        <p class="whitespace-pre-line">{{ character.info.get('history') }}</p>
                    {% else %}
                        <p class="text-base-content/50 italic">Sin historia definida</p>
                    {% endif %}
                </div>
            </div>
        </div>

        {% include "characters/edit_modals/info_modal.html" %}
    </div>
</div>